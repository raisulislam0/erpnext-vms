{
 "add_total_row": 0,
 "add_translate_data": 0,
 "columns": [],
 "creation": "2025-09-18 16:32:28.754554",
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [],
 "idx": 0,
 "is_standard": "Yes",
 "javascript": "// Copyright (c) 2024, Vehicle Management and contributors\n// For license information, please see license.txt\n\nfrappe.query_reports[\"Vehicle Management Report\"] = {\n    \"filters\": [\n        {\n            \"fieldname\": \"chassis_number\",\n            \"label\": __(\"Chassis Number\"),\n            \"fieldtype\": \"Link\",\n            \"options\": \"Vehicle Entry\",\n            \"width\": \"100px\"\n        },\n        {\n            \"fieldname\": \"car_model\",\n            \"label\": __(\"Car Model\"),\n            \"fieldtype\": \"Data\",\n            \"width\": \"100px\"\n        },\n        {\n            \"fieldname\": \"model_year\",\n            \"label\": __(\"Model Year\"),\n            \"fieldtype\": \"Int\",\n            \"width\": \"100px\"\n        },\n        {\n            \"fieldname\": \"shape\",\n            \"label\": __(\"Shape\"),\n            \"fieldtype\": \"Select\",\n            \"options\": \"\\nSedan\\nHatchback\\nSUV\\nCoupe\\nConvertible\\nWagon\\nTruck\\nVan\\nOther\",\n            \"width\": \"100px\"\n        },\n        {\n            \"fieldname\": \"auction_grade\",\n            \"label\": __(\"Auction Grade\"),\n            \"fieldtype\": \"Data\",\n            \"width\": \"100px\"\n        },\n        {\n            \"fieldname\": \"color\",\n            \"label\": __(\"Color\"),\n            \"fieldtype\": \"Data\",\n            \"width\": \"100px\"\n        },\n        {\n            \"fieldname\": \"origin_country\",\n            \"label\": __(\"Origin Country\"),\n            \"fieldtype\": \"Data\",\n            \"width\": \"100px\"\n        },\n        {\n            \"fieldname\": \"availability_status\",\n            \"label\": __(\"Availability Status\"),\n            \"fieldtype\": \"Select\",\n            \"options\": \"\\nPort\\nOnship\\nShowroom\\nWarehouse\\nOther\",\n            \"width\": \"100px\"\n        },\n        {\n            \"fieldname\": \"status\",\n            \"label\": __(\"Overall Status\"),\n            \"fieldtype\": \"Select\",\n            \"options\": \"\\nDraft\\nPending\\nTo Price\\nTo Availability\\nCompleted\",\n            \"width\": \"100px\"\n        }\n    ],\n    \n    \"formatter\": function (value, row, column, data, default_formatter) {\n        value = default_formatter(value, row, column, data);\n        \n        if (column.fieldname == \"overall_status\") {\n            if (value == \"Completed\") {\n                value = `<span style=\"color: green; font-weight: bold;\">${value}</span>`;\n            } else if (value == \"Draft\") {\n                value = `<span style=\"color: orange; font-weight: bold;\">${value}</span>`;\n            } else if (value == \"Pending\") {\n                value = `<span style=\"color: red; font-weight: bold;\">${value}</span>`;\n            }\n        }\n        \n        if (column.fieldname == \"availability_status\") {\n            if (value == \"Showroom\") {\n                value = `<span style=\"color: green; font-weight: bold;\">${value}</span>`;\n            } else if (value == \"Port\") {\n                value = `<span style=\"color: blue; font-weight: bold;\">${value}</span>`;\n            } else if (value == \"Warehouse\") {\n                value = `<span style=\"color: purple; font-weight: bold;\">${value}</span>`;\n            }\n        }\n        \n        return value;\n    }\n};",
 "letterhead": null,
 "modified": "2025-09-21 14:19:50.543265",
 "modified_by": "Administrator",
 "module": "Vehicle Management",
 "name": "Sep2025",
 "owner": "Administrator",
 "prepared_report": 0,
 "ref_doctype": "Vehicle Price",
 "reference_report": "",
 "report_name": "Sep2025",
 "report_script": "# Minimal Server Script Report - NO imports allowed\n\ncolumns = [\n    {\n        \"fieldname\": \"chassis_number\",\n        \"label\": \"Chassis Number\",\n        \"fieldtype\": \"Link\",\n        \"options\": \"Vehicle Entry\",\n        \"width\": 150\n    },\n    {\n        \"fieldname\": \"car_model\",\n        \"label\": \"Car Model\",\n        \"fieldtype\": \"Data\",\n        \"width\": 120\n    },\n    {\n        \"fieldname\": \"model_year\",\n        \"label\": \"Model Year\",\n        \"fieldtype\": \"Int\",\n        \"width\": 100\n    },\n    {\n        \"fieldname\": \"shape\",\n        \"label\": \"Shape\",\n        \"fieldtype\": \"Data\",\n        \"width\": 100\n    },\n    {\n        \"fieldname\": \"auction_grade\",\n        \"label\": \"Auction Grade\",\n        \"fieldtype\": \"Data\",\n        \"width\": 120\n    },\n    {\n        \"fieldname\": \"color\",\n        \"label\": \"Color\",\n        \"fieldtype\": \"Data\",\n        \"width\": 100\n    },\n    {\n        \"fieldname\": \"mileage\",\n        \"label\": \"Mileage\",\n        \"fieldtype\": \"Data\",\n        \"width\": 100\n    },\n    {\n        \"fieldname\": \"cc\",\n        \"label\": \"CC\",\n        \"fieldtype\": \"Data\",\n        \"width\": 80\n    },\n    {\n        \"fieldname\": \"seat_capacity\",\n        \"label\": \"Seat Capacity\",\n        \"fieldtype\": \"Int\",\n        \"width\": 100\n    },\n    {\n        \"fieldname\": \"origin_country\",\n        \"label\": \"Origin Country\",\n        \"fieldtype\": \"Data\",\n        \"width\": 120\n    },\n    {\n        \"fieldname\": \"availability_status\",\n        \"label\": \"Availability Status\",\n        \"fieldtype\": \"Data\",\n        \"width\": 130\n    },\n    {\n        \"fieldname\": \"company_price\",\n        \"label\": \"Company Price\",\n        \"fieldtype\": \"Currency\",\n        \"width\": 120\n    },\n    {\n        \"fieldname\": \"customer_price\",\n        \"label\": \"Customer Price\",\n        \"fieldtype\": \"Currency\",\n        \"width\": 120\n    },\n    {\n        \"fieldname\": \"sale_price\",\n        \"label\": \"Sale Price\",\n        \"fieldtype\": \"Currency\",\n        \"width\": 120\n    },\n    {\n        \"fieldname\": \"other_amount\",\n        \"label\": \"Other Amount\",\n        \"fieldtype\": \"Currency\",\n        \"width\": 120\n    },\n    {\n        \"fieldname\": \"grand_total\",\n        \"label\": \"Grand Total\",\n        \"fieldtype\": \"Currency\",\n        \"width\": 120\n    },\n    {\n        \"fieldname\": \"overall_status\",\n        \"label\": \"Overall Status\",\n        \"fieldtype\": \"Data\",\n        \"width\": 120\n    }\n]\n\nconditions = \"\"\nif filters and filters.get(\"chassis_number\"):\n    conditions += \" AND ve.chassis_number = %(chassis_number)s\"\nif filters and filters.get(\"car_model\"):\n    conditions += \" AND ve.car_model = %(car_model)s\"\nif filters and filters.get(\"model_year\"):\n    conditions += \" AND ve.model_year = %(model_year)s\"\nif filters and filters.get(\"shape\"):\n    conditions += \" AND ve.shape = %(shape)s\"\nif filters and filters.get(\"auction_grade\"):\n    conditions += \" AND ve.auction_grade = %(auction_grade)s\"\nif filters and filters.get(\"color\"):\n    conditions += \" AND ve.color = %(color)s\"\nif filters and filters.get(\"origin_country\"):\n    conditions += \" AND ve.origin_country = %(origin_country)s\"\nif filters and filters.get(\"availability_status\"):\n    conditions += \" AND va.availability_status = %(availability_status)s\"\nif filters and filters.get(\"status\"):\n    conditions += \" AND ve.status = %(status)s\"\n\nquery = \"\"\"\n    SELECT \n        ve.chassis_number,\n        ve.car_model,\n        ve.model_year,\n        ve.shape,\n        ve.auction_grade,\n        ve.color,\n        ve.mileage,\n        ve.cc,\n        ve.seat_capacity,\n        ve.origin_country,\n        COALESCE(va.availability_status, 'Not Set') as availability_status,\n        COALESCE(vp.company_price, 0) as company_price,\n        COALESCE(vp.customer_price, 0) as customer_price,\n        COALESCE(vp.sale_price, 0) as sale_price,\n        COALESCE(vp.total_amount, 0) as other_amount,\n        COALESCE(vp.grand_total, 0) as grand_total,\n        ve.status as overall_status\n    FROM \n        `tabVehicle Entry` ve\n    LEFT JOIN \n        `tabVehicle Availability` va ON ve.chassis_number = va.chassis_number \n        AND va.docstatus = 1\n    LEFT JOIN \n        `tabVehicle Price` vp ON ve.chassis_number = vp.chassis_number \n        AND vp.docstatus = 1\n    WHERE \n        ve.docstatus = 1\n        {conditions}\n    ORDER BY \n        ve.creation DESC\n\"\"\".format(conditions=conditions)\n\ndata = frappe.db.sql(query, filters or {}, as_dict=1)\n\nresult = [columns, data]",
 "report_type": "Script Report",
 "roles": [
  {
   "role": "System Manager"
  }
 ],
 "timeout": 1000
}